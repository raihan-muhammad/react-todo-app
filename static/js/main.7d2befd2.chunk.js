(this["webpackJsonptodo-list-app"]=this["webpackJsonptodo-list-app"]||[]).push([[0],{37:function(e,t,a){e.exports=a(54)},42:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(22),o=a.n(r),i=(a(42),a(15)),l=a(13),c=a(16),u=a.n(c),d=a(24),p=a(7),m=a(8),h=a(9),g=a(12),v=a(11),E=function(e){var t=e.onClick,a=e.title;return e.loading?s.a.createElement("button",{className:"btn-primary",disabled:!0},"Loading..."):s.a.createElement("button",{className:"btn-primary",onClick:t},a)},f=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"login__kiri"},s.a.createElement("h1",{className:"login__big-text"},"TODO APP"),s.a.createElement("p",{className:"login__small-text"},"Todo App ini di buat oleh raihan muhammad ketika sedang belajar react js pada tanggal 19-04-2020"))}}]),a}(n.Component),_=a(10),b=a(25),N=a.n(b);a(48),a(50);N.a.initializeApp({apiKey:"AIzaSyDVpzJjt3pqYms9_AlSuVMgiITGwvkL8Aw",authDomain:"todo-list-779f8.firebaseapp.com",databaseURL:"https://todo-list-779f8.firebaseio.com",projectId:"todo-list-779f8",storageBucket:"todo-list-779f8.appspot.com",messagingSenderId:"1078863429281",appId:"1:1078863429281:web:dad2c6f201ca0fa46ebae0",measurementId:"G-PVJSBLWM1J"});var O=N.a.database(),k=N.a,I=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).hendleInput=function(t){e.setState(Object(p.a)({},t.target.id,t.target.value))},e.hendleLogin=Object(d.a)(u.a.mark((function t(){var a,n,s,r,o,i,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.email,s=a.password,r=e.props,o=r.login,i=r.history,t.next=4,o({email:n,password:s}).catch((function(e){return e}));case 4:(l=t.sent)?(localStorage.setItem("userData",JSON.stringify(l)),e.setState({email:"",password:""}),i.push("/dashboard")):e.setState({pesan:"Login Gagal!"});case 6:case"end":return t.stop()}}),t)}))),e.state={email:"",password:"",pesan:""},e}return Object(h.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"login__kanan"},s.a.createElement("p",{className:"login__todo-text"},"Todo",s.a.createElement("span",null,"App")),""!==this.state.pesan?s.a.createElement("p",{className:"login__danger-text"},this.state.pesan):null,s.a.createElement("p",{className:"login__login-text"},"Log In"),s.a.createElement("input",{type:"text",id:"email",placeholder:"Username",value:this.state.email,onChange:this.hendleInput,className:"login__input"}),s.a.createElement("input",{type:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.hendleInput,className:"login__input"}),s.a.createElement("p",{className:"login__text-biasa"},"Belum mempunyai akun? ",s.a.createElement(i.b,{to:"/register"},"daftar")),s.a.createElement(E,{title:"Login",onClick:this.hendleLogin,loading:this.props.isLoading})),s.a.createElement(f,null))}}]),a}(n.Component),y=Object(_.b)((function(e){return{isLoading:e.isLoading}}),(function(e){return{login:function(t){return e(function(e){return function(t){return t({type:"CHANGE_ISLOADING",value:!0}),new Promise((function(a,n){k.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){var n={email:e.user.email,uid:e.user.uid,isLogin:!0};t({type:"CHANGE_ISLOADING",value:!1}),t({type:"CHANGE_LOGIN",value:!0}),t({type:"LOGIN_USER",value:n}),a(n)})).catch((function(e){var a=e.message;t({type:"ERROR_MESSAGE",value:a}),t({type:"CHANGE_ISLOADING",value:!1}),n(!1)}))}))}}(t))}}}))(I),S=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).hendleInput=function(t){e.setState(Object(p.a)({},t.target.id,t.target.value))},e.hendleRegister=Object(d.a)(u.a.mark((function t(){var a,n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.email,s=a.password,t.next=3,e.props.register({email:n,password:s}).catch((function(e){return console.log(e)}));case 3:t.sent?e.setState({email:"",password:"",success:"Selamat! akun berhasil di tambah"}):console.log("register gagal");case 5:case"end":return t.stop()}}),t)}))),e.state={email:"",password:"",success:""},e}return Object(h.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"login__kanan"},s.a.createElement("p",{className:"login__todo-text"},"Todo",s.a.createElement("span",null,"App")),""!==this.state.success?s.a.createElement("p",{className:"login__success-text"},this.state.success):null,s.a.createElement("p",{className:"login__login-text"},"Register"),s.a.createElement("input",{type:"text",placeholder:"Email",id:"email",onChange:this.hendleInput,value:this.state.email,className:"login__input"}),s.a.createElement("input",{type:"password",placeholder:"Password",id:"password",onChange:this.hendleInput,value:this.state.password,className:"login__input"}),s.a.createElement("p",{className:"login__message"},this.props.error),s.a.createElement("p",{className:"login__text-biasa"},"Sudah mempunyai akun? ",s.a.createElement(i.b,{to:"/"},"Login")),s.a.createElement(E,{title:"Register",onClick:this.hendleRegister,loading:this.props.isLoading})),s.a.createElement(f,null))}}]),a}(n.Component),A=Object(_.b)((function(e){return{isLoading:e.isLoading,error:e.isError}}),(function(e){return{register:function(t){return e(function(e){return function(t){return t({type:"CHANGE_ISLOADING",value:!0}),new Promise((function(a,n){k.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){t({type:"CHANGE_ISLOADING",value:!1}),a(!0)})).catch((function(e){var a=e.message;t({type:"ERROR_MESSAGE",value:a}),t({type:"CHANGE_ISLOADING",value:!1}),n(!1)}))}))}}(t))}}}))(S),w=a(18),L=a(36),G=a(19),j={isLoading:!1,isError:"",isLogin:!1,task:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_ISLOADING"===t.type?Object(G.a)({},e,{isLoading:t.value}):"ERROR_MESSAGE"===t.type?Object(G.a)({},e,{isError:t.value}):"CHANGE_LOGIN"===t.type?Object(G.a)({},e,{isLogin:t.value}):"GET_TASK"===t.type?Object(G.a)({},e,{task:t.value}):e},x=Object(w.c)(C,Object(w.a)(L.a)),D=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).hendleInput=function(t){e.setState(Object(p.a)({},t.target.id,t.target.value))},e.hendleCreate=function(){var t=e.props.task,a={userId:JSON.parse(localStorage.getItem("userData")).uid,task:e.state.task};e.setState({task:""}),""!==e.state.task?t(a):alert("Masukan Task!")},e.hendleDone=function(t,a){t.stopPropagation();var n={userId:JSON.parse(localStorage.getItem("userData")).uid,todoId:a.id};e.props.deleteTask(n)},e.state={task:""},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.history;this.props.login||e.push("/");var t=JSON.parse(localStorage.getItem("userData"));console.log(t),this.props.getTask(t.uid)}},{key:"render",value:function(){var e=this,t=this.props.todo,a=JSON.parse(localStorage.getItem("userData"));return s.a.createElement("div",null,s.a.createElement("section",{className:"dashboard"},s.a.createElement("p",{className:"dashboard__text"},"Todo App"),s.a.createElement("p",{className:"dashboard__desc"},"Hi, ",s.a.createElement("span",{className:"dashboard__user-text"},a.email)," This my todo application made with react and firebase"),s.a.createElement("div",{className:"dashboard__flex"},s.a.createElement("input",{type:"text",className:"dashboard__input",id:"task",placeholder:"Add task",value:this.state.task,onChange:this.hendleInput}),s.a.createElement(E,{title:"Add",onClick:this.hendleCreate,loading:this.props.loading}))),this.props.loading?s.a.createElement("div",{className:"dashboard__text-task"},"Loading..."):t.length>0?s.a.createElement(n.Fragment,null,t.map((function(t){return s.a.createElement("div",{className:"dashboard__text-task",key:t.id},t.data.task," ",s.a.createElement("button",{onClick:function(a){return e.hendleDone(a,t)}},"Done")," ")}))):s.a.createElement("div",{className:"dashboard__text-task"},"No Task"))}}]),a}(n.Component),T=Object(_.b)((function(e){return{login:e.isLogin,loading:e.isLoading,todo:e.task}}),(function(e){return{task:function(t){return e(function(e){return function(t){t({type:"CHANGE_ISLOADING",value:!0}),O.ref("todo/".concat(e.userId)).push({task:e.task}),setTimeout((function(){t({type:"CHANGE_ISLOADING",value:!1})}),1e3)}}(t))},getTask:function(t){return e((a=t,function(e){e({type:"CHANGE_ISLOADING",value:!0});var t=O.ref("todo/".concat(a));return new Promise((function(a,n){t.on("value",(function(t){var n=[];null!==t.val()?Object.keys(t.val()).map((function(e){n.push({data:t.val()[e],id:e})})):e({type:"CHANGE_ISLOADING",value:!0}),e({type:"CHANGE_ISLOADING",value:!1}),e({type:"GET_TASK",value:n}),a(t.val())}))}))}));var a},deleteTask:function(t){return e(function(e){return function(t){var a=O.ref("todo/".concat(e.userId,"/").concat(e.todoId));return new Promise((function(e,t){a.remove()}))}}(t))}}}))(D);var H=function(){return s.a.createElement(_.a,{store:x},s.a.createElement(i.a,null,s.a.createElement(l.a,{path:"/dashboard",component:T}),s.a.createElement(l.a,{path:"/register",component:A}),s.a.createElement(l.a,{path:"/react-todo-app",exact:!0,component:y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.log(k),o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.7d2befd2.chunk.js.map